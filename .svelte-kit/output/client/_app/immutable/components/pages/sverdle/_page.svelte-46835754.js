import{S as Ge,i as Ne,s as Ce,e as S,a as C,t as j,p as re,m as Pe,c as W,f as b,g as P,b as T,d as H,o as v,q as G,j as y,h as E,r as ee,u as Ae,v as Se,n as oe,w as De,l as Le,x as Oe,y as We,z as K,A as Xe,k as te,B as Te,C as je,D as ne}from"../../../chunks/index-9b4b4e1c.js";import{p as ze}from"../../../chunks/parse-bee59afc.js";import{c as X}from"../../../chunks/singletons-fa4097a9.js";import{r as Fe}from"../../../chunks/index-776f5eed.js";const Ie=(l,e={})=>{he(e);let{colors:t=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:a=3500,force:o=.5,particleCount:n=150,particleShape:r="mix",particleSize:s=12,destroyAfterDone:i=!0,stageHeight:p=800,stageWidth:m=1600}=e;(function(c){const d=Z("style");d.dataset.neoconfetti="",d.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',x(document.head,d)})(),l.classList.add("fk9XWG_container"),l.style.setProperty("--stage-height",p+"px");let g,_=fe(n,t),u=ie(l,_);function f(c,d){const A=U(L()*(Re-1)),O=r!=="rectangles"&&(r==="circles"||Je(A)),w=(F,N)=>c.style.setProperty(F,N+"");w("--x-landing-point",Q(R(de(d,90)-180),0,180,-m/2,m/2)+"px"),w("--duration-chaos",a-U(1e3*L())+"ms");const z=L()<Be?q(L()*Ve,2):0;w("--x1",z),w("--x2",-1*z),w("--x3",z),w("--x4",q(R(Q(R(de(d,90)-180),0,180,-1,1)),4)),w("--y1",q(L()*ue,4)),w("--y2",q(L()*o*(He()?1:-1),4)),w("--y3",ue),w("--y4",q(Ue(Q(R(d-180),0,180,o,-o),0),4)),w("--width",(O?s:U(4*L())+s/2)+"px"),w("--height",(O?s:U(2*L())+s)+"px");const V=A.toString(2).padStart(3,"0").split("");w("--half-rotation",V.map(F=>+F/2+"")),w("--rotation",V),w("--rotation-duration",q(L()*(qe-ce)+ce)+"ms"),w("--border-radius",O?"50%":0)}for(const[c,d]of Object.entries(u))f(d,_[+c].degree);return Promise.resolve().then(()=>g=setTimeout(()=>i&&(l.innerHTML=""),a)),{update(c){he(c);const d=c.particleCount??n,A=c.colors??t,O=c.stageHeight??p;if(_=fe(d,A),d===n&&JSON.stringify(t)!==JSON.stringify(A))for(const[w,{color:z}]of Object.entries(_))u[+w].style.setProperty("--bgcolor",z);d!==n&&(l.innerHTML="",u=ie(l,_)),i&&!c.destroyAfterDone&&clearTimeout(g),l.style.setProperty("--stage-height",O+"px"),t=A,a=c.duration??a,o=c.force??o,n=d,r=c.particleShape??r,s=c.particleSize??s,i=c.destroyAfterDone??i,p=O,m=c.stageWidth??m},destroy(){clearTimeout(g)}}};function ie(l,e=[]){const t=[];for(const{color:a}of e){const o=Z("div");o.className="fk9XWG_particle",o.style.setProperty("--bgcolor",a);const n=Z("div");x(o,n),x(l,o),t.push(o)}return t}const ce=200,qe=800,Be=.1,Ve=.3,ue=.5,R=Math.abs,L=Math.random,U=Math.round,Ue=Math.max,Z=l=>document.createElement(l),x=(l,e)=>l.appendChild(e),fe=(l,e)=>Array.from({length:l},(t,a)=>({color:e[a%e.length],degree:360*a/l})),q=(l,e=2)=>U((l+Number.EPSILON)*10**e)/10**e,Q=(l,e,t,a,o)=>(l-e)*(o-a)/(t-e)+a,de=(l,e)=>l+e>360?l+e-360:l+e,He=()=>L()>.5,Re=6,Je=l=>l!==1&&He(),$=l=>l===void 0,B=(l,e)=>{if(!$(l)&&Number.isSafeInteger(l)&&l<0)throw new Error(e+" must be a positive integer")},he=({particleCount:l,duration:e,colors:t,particleSize:a,force:o,stageHeight:n,stageWidth:r,particleShape:s})=>{if(B(l,"particleCount"),B(e,"duration"),B(a,"particleSize"),B(o,"force"),B(n,"stageHeight"),B(r,"stageWidth"),!$(s)&&!/^(mix|circles|rectangles)$/i.test(s))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!$(t)&&!Array.isArray(t))throw new Error("colors must be an array of strings");if(o>1)throw new Error("force must be within 0 and 1")};X.disable_scroll_handling;X.goto;X.invalidate;const Ke=X.invalidateAll;X.preload_data;X.preload_code;X.before_navigate;X.after_navigate;const Qe=X.apply_action;function Ye(l){const e=JSON.parse(l);return e.data&&(e.data=ze(e.data)),e}function Ze(l,e=()=>{}){const t=async({action:o,result:n,reset:r})=>{n.type==="success"&&(r!==!1&&HTMLFormElement.prototype.reset.call(l),await Ke()),(location.origin+location.pathname===o.origin+o.pathname||n.type==="redirect"||n.type==="error")&&Qe(n)};async function a(o){var u,f,c;o.preventDefault();const n=new URL((u=o.submitter)!=null&&u.hasAttribute("formaction")?o.submitter.formAction:HTMLFormElement.prototype.cloneNode.call(l).action),r=new FormData(l),s=(f=o.submitter)==null?void 0:f.getAttribute("name");s&&r.append(s,((c=o.submitter)==null?void 0:c.getAttribute("value"))??"");const i=new AbortController;let p=!1;const g=await e({action:n,cancel:()=>p=!0,controller:i,data:r,form:l})??t;if(p)return;let _;try{const d=await fetch(n,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:r,signal:i.signal});_=Ye(await d.text()),_.type==="error"&&(_.status=d.status)}catch(d){if((d==null?void 0:d.name)==="AbortError")return;_={type:"error",error:d}}g({action:n,data:r,form:l,update:d=>t({action:n,result:_,reset:d==null?void 0:d.reset}),result:_})}return HTMLFormElement.prototype.addEventListener.call(l,"submit",a),{destroy(){HTMLFormElement.prototype.removeEventListener.call(l,"submit",a)}}}const Me="(prefers-reduced-motion: reduce)",xe=()=>window.matchMedia(Me).matches,$e=Fe(xe(),l=>{{const e=a=>{l(a.matches)},t=window.matchMedia(Me);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}});const{document:Y,window:et}=Oe;function _e(l,e,t){const a=l.slice();return a[9]=e[t],a}function pe(l,e,t){const a=l.slice();return a[12]=e[t],a}function me(l,e,t){const a=l.slice();a[9]=e[t];const o=a[9]===a[3];return a[15]=o,a}function be(l,e,t){var m,g;const a=l.slice();a[18]=e[t];const o=(m=a[0].answers[a[9]])==null?void 0:m[a[18]];a[19]=o;const n=((g=a[0].guesses[a[9]])==null?void 0:g[a[18]])??"";a[20]=n;const r=a[15]&&a[18]===a[0].guesses[a[9]].length;a[21]=r;const s=a[19]==="x";a[22]=s;const i=a[19]==="c";a[23]=i;const p=a[19]==="_";return a[24]=p,a}function tt(l){let e;return{c(){e=j("empty")},l(t){e=H(t,"empty")},m(t,a){E(t,e,a)},d(t){t&&b(e)}}}function at(l){let e;return{c(){e=j("(absent)")},l(t){e=H(t,"(absent)")},m(t,a){E(t,e,a)},d(t){t&&b(e)}}}function lt(l){let e;return{c(){e=j("(present)")},l(t){e=H(t,"(present)")},m(t,a){E(t,e,a)},d(t){t&&b(e)}}}function st(l){let e;return{c(){e=j("(correct)")},l(t){e=H(t,"(correct)")},m(t,a){E(t,e,a)},d(t){t&&b(e)}}}function ge(l,e){let t,a=e[20]+"",o,n,r,s,i,p,m;function g(f,c){return f[22]?st:f[23]?lt:f[24]?at:tt}let _=g(e),u=_(e);return{key:l,first:null,c(){t=S("div"),o=j(a),n=C(),r=S("span"),u.c(),s=C(),i=S("input"),this.h()},l(f){t=W(f,"DIV",{class:!0});var c=T(t);o=H(c,a),n=P(c),r=W(c,"SPAN",{class:!0});var d=T(r);u.l(d),d.forEach(b),s=P(c),i=W(c,"INPUT",{name:!0,type:!0}),c.forEach(b),this.h()},h(){v(r,"class","visually-hidden"),v(i,"name","guess"),i.disabled=p=!e[15],v(i,"type","hidden"),i.value=m=e[20],v(t,"class","letter svelte-1pg2j5l"),G(t,"exact",e[22]),G(t,"close",e[23]),G(t,"missing",e[24]),G(t,"selected",e[21]),this.first=t},m(f,c){E(f,t,c),y(t,o),y(t,n),y(t,r),u.m(r,null),y(t,s),y(t,i)},p(f,c){e=f,c&1&&a!==(a=e[20]+"")&&te(o,a),_!==(_=g(e))&&(u.d(1),u=_(e),u&&(u.c(),u.m(r,null))),c&8&&p!==(p=!e[15])&&(i.disabled=p),c&1&&m!==(m=e[20])&&(i.value=m),c&1&&G(t,"exact",e[22]),c&1&&G(t,"close",e[23]),c&1&&G(t,"missing",e[24]),c&9&&G(t,"selected",e[21])},d(f){f&&b(t),u.d()}}}function ve(l,e){let t,a,o=e[9]+1+"",n,r,s,i=[],p=new Map,m,g=Array.from(Array(5).keys());const _=u=>u[18];for(let u=0;u<g.length;u+=1){let f=be(e,g,u),c=_(f);p.set(c,i[u]=ge(c,f))}return{key:l,first:null,c(){t=S("h2"),a=j("Row "),n=j(o),r=C(),s=S("div");for(let u=0;u<i.length;u+=1)i[u].c();m=C(),this.h()},l(u){t=W(u,"H2",{class:!0});var f=T(t);a=H(f,"Row "),n=H(f,o),f.forEach(b),r=P(u),s=W(u,"DIV",{class:!0});var c=T(s);for(let d=0;d<i.length;d+=1)i[d].l(c);m=P(c),c.forEach(b),this.h()},h(){v(t,"class","visually-hidden"),v(s,"class","row svelte-1pg2j5l"),G(s,"current",e[15]),this.first=t},m(u,f){E(u,t,f),y(t,a),y(t,n),E(u,r,f),E(u,s,f);for(let c=0;c<i.length;c+=1)i[c].m(s,null);y(s,m)},p(u,f){e=u,f&9&&(g=Array.from(Array(5).keys()),i=Se(i,f,_,1,e,g,p,s,We,ge,m,be)),f&8&&G(s,"current",e[15])},d(u){u&&b(t),u&&b(r),u&&b(s);for(let f=0;f<i.length;f+=1)i[f].d()}}}function rt(l){let e,t,a,o,n,r,s,i,p,m,g=["qwertyuiop","asdfghjkl","zxcvbnm"],_=[];for(let u=0;u<3;u+=1)_[u]=ke(_e(l,g,u));return{c(){e=S("div"),t=S("button"),a=j("enter"),n=C(),r=S("button"),s=j("back"),i=C();for(let u=0;u<3;u+=1)_[u].c();this.h()},l(u){e=W(u,"DIV",{class:!0});var f=T(e);t=W(f,"BUTTON",{"data-key":!0,class:!0});var c=T(t);a=H(c,"enter"),c.forEach(b),n=P(f),r=W(f,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0});var d=T(r);s=H(d,"back"),d.forEach(b),i=P(f);for(let A=0;A<3;A+=1)_[A].l(f);f.forEach(b),this.h()},h(){v(t,"data-key","enter"),t.disabled=o=!l[6],v(t,"class","svelte-1pg2j5l"),G(t,"selected",l[6]),v(r,"data-key","backspace"),v(r,"formaction","?/update"),v(r,"name","key"),r.value="backspace",v(r,"class","svelte-1pg2j5l"),v(e,"class","keyboard svelte-1pg2j5l")},m(u,f){E(u,e,f),y(e,t),y(t,a),y(e,n),y(e,r),y(r,s),y(e,i);for(let c=0;c<3;c+=1)_[c].m(e,null);p||(m=ee(r,"click",Te(l[8])),p=!0)},p(u,f){if(f&64&&o!==(o=!u[6])&&(t.disabled=o),f&64&&G(t,"selected",u[6]),f&301){g=["qwertyuiop","asdfghjkl","zxcvbnm"];let c;for(c=0;c<3;c+=1){const d=_e(u,g,c);_[c]?_[c].p(d,f):(_[c]=ke(d),_[c].c(),_[c].m(e,null))}for(;c<3;c+=1)_[c].d(1)}},d(u){u&&b(e),je(_,u),p=!1,m()}}}function ot(l){let e,t,a=l[4]?"you won :)":"game over :(",o,n,r=!l[4]&&l[0].answer&&we(l);return{c(){r&&r.c(),e=C(),t=S("button"),o=j(a),n=j(" play again?"),this.h()},l(s){r&&r.l(s),e=P(s),t=W(s,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var i=T(t);o=H(i,a),n=H(i," play again?"),i.forEach(b),this.h()},h(){v(t,"data-key","enter"),v(t,"class","restart selected svelte-1pg2j5l"),v(t,"formaction","?/restart")},m(s,i){r&&r.m(s,i),E(s,e,i),E(s,t,i),y(t,o),y(t,n)},p(s,i){!s[4]&&s[0].answer?r?r.p(s,i):(r=we(s),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),i&16&&a!==(a=s[4]?"you won :)":"game over :(")&&te(o,a)},d(s){r&&r.d(s),s&&b(e),s&&b(t)}}}function ye(l){let e,t,a,o,n,r,s;return{c(){e=S("button"),t=j(l[12]),this.h()},l(i){e=W(i,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var p=T(e);t=H(p,l[12]),p.forEach(b),this.h()},h(){v(e,"data-key",l[12]),v(e,"class",a=ne(l[2][l[12]])+" svelte-1pg2j5l"),e.disabled=o=l[0].guesses[l[3]].length===5,v(e,"formaction","?/update"),v(e,"name","key"),e.value=l[12],v(e,"aria-label",n=l[12]+" "+(l[5][l[12]]||""))},m(i,p){E(i,e,p),y(e,t),r||(s=ee(e,"click",Te(l[8])),r=!0)},p(i,p){p&4&&a!==(a=ne(i[2][i[12]])+" svelte-1pg2j5l")&&v(e,"class",a),p&9&&o!==(o=i[0].guesses[i[3]].length===5)&&(e.disabled=o),p&32&&n!==(n=i[12]+" "+(i[5][i[12]]||""))&&v(e,"aria-label",n)},d(i){i&&b(e),r=!1,s()}}}function ke(l){let e,t,a=l[9],o=[];for(let n=0;n<a.length;n+=1)o[n]=ye(pe(l,a,n));return{c(){e=S("div");for(let n=0;n<o.length;n+=1)o[n].c();t=C(),this.h()},l(n){e=W(n,"DIV",{class:!0});var r=T(e);for(let s=0;s<o.length;s+=1)o[s].l(r);t=P(r),r.forEach(b),this.h()},h(){v(e,"class","row svelte-1pg2j5l")},m(n,r){E(n,e,r);for(let s=0;s<o.length;s+=1)o[s].m(e,null);y(e,t)},p(n,r){if(r&301){a=n[9];let s;for(s=0;s<a.length;s+=1){const i=pe(n,a,s);o[s]?o[s].p(i,r):(o[s]=ye(i),o[s].c(),o[s].m(e,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d(n){n&&b(e),je(o,n)}}}function we(l){let e,t,a=l[0].answer+"",o,n;return{c(){e=S("p"),t=j('the answer was "'),o=j(a),n=j('"')},l(r){e=W(r,"P",{});var s=T(e);t=H(s,'the answer was "'),o=H(s,a),n=H(s,'"'),s.forEach(b)},m(r,s){E(r,e,s),y(e,t),y(e,o),y(e,n)},p(r,s){s&1&&a!==(a=r[0].answer+"")&&te(o,a)},d(r){r&&b(e)}}}function Ee(l){let e,t,a,o;return{c(){e=S("div"),this.h()},l(n){e=W(n,"DIV",{style:!0}),T(e).forEach(b),this.h()},h(){K(e,"position","absolute"),K(e,"left","50%"),K(e,"top","30%")},m(n,r){E(n,e,r),a||(o=Ae(t=Ie.call(null,e,{particleCount:l[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),a=!0)},p(n,r){t&&Xe(t.update)&&r&128&&t.update.call(null,{particleCount:n[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(n){n&&b(e),a=!1,o()}}}function nt(l){let e,t,a,o,n,r,s,i,p,m,g=[],_=new Map,u,f,c,d,A,O,w=Array.from(Array(6).keys());const z=h=>h[9];for(let h=0;h<w.length;h+=1){let k=me(l,w,h),D=z(k);_.set(D,g[h]=ve(D,k))}function V(h,k){return h[4]||h[0].answers.length>=6?ot:rt}let F=V(l),N=F(l),M=l[4]&&Ee(l);return{c(){e=S("meta"),t=C(),a=S("h1"),o=j("Sverdle"),n=C(),r=S("form"),s=S("a"),i=j("How to play"),p=C(),m=S("div");for(let h=0;h<g.length;h+=1)g[h].c();u=C(),f=S("div"),N.c(),c=C(),M&&M.c(),d=re(),this.h()},l(h){const k=Pe("svelte-18lvto8",Y.head);e=W(k,"META",{name:!0,content:!0}),k.forEach(b),t=P(h),a=W(h,"H1",{class:!0});var D=T(a);o=H(D,"Sverdle"),D.forEach(b),n=P(h),r=W(h,"FORM",{method:!0,action:!0,class:!0});var I=T(r);s=W(I,"A",{class:!0,href:!0});var ae=T(s);i=H(ae,"How to play"),ae.forEach(b),p=P(I),m=W(I,"DIV",{class:!0});var le=T(m);for(let J=0;J<g.length;J+=1)g[J].l(le);le.forEach(b),u=P(I),f=W(I,"DIV",{class:!0});var se=T(f);N.l(se),se.forEach(b),I.forEach(b),c=P(h),M&&M.l(h),d=re(),this.h()},h(){var h;Y.title="Sverdle",v(e,"name","description"),v(e,"content","A Wordle clone written in SvelteKit"),v(a,"class","visually-hidden"),v(s,"class","how-to-play svelte-1pg2j5l"),v(s,"href","/sverdle/how-to-play"),v(m,"class","grid svelte-1pg2j5l"),G(m,"playing",!l[4]),G(m,"bad-guess",(h=l[1])==null?void 0:h.badGuess),v(f,"class","controls svelte-1pg2j5l"),v(r,"method","POST"),v(r,"action","?/enter"),v(r,"class","svelte-1pg2j5l")},m(h,k){y(Y.head,e),E(h,t,k),E(h,a,k),y(a,o),E(h,n,k),E(h,r,k),y(r,s),y(s,i),y(r,p),y(r,m);for(let D=0;D<g.length;D+=1)g[D].m(m,null);y(r,u),y(r,f),N.m(f,null),E(h,c,k),M&&M.m(h,k),E(h,d,k),A||(O=[ee(et,"keydown",it),Ae(Ze.call(null,r,ct))],A=!0)},p(h,[k]){var D;k&9&&(w=Array.from(Array(6).keys()),g=Se(g,k,z,1,h,w,_,m,We,ve,null,me)),k&16&&G(m,"playing",!h[4]),k&2&&G(m,"bad-guess",(D=h[1])==null?void 0:D.badGuess),F===(F=V(h))&&N?N.p(h,k):(N.d(1),N=F(h),N&&(N.c(),N.m(f,null))),h[4]?M?M.p(h,k):(M=Ee(h),M.c(),M.m(d.parentNode,d)):M&&(M.d(1),M=null)},i:oe,o:oe,d(h){b(e),h&&b(t),h&&b(a),h&&b(n),h&&b(r);for(let k=0;k<g.length;k+=1)g[k].d();N.d(),h&&b(c),M&&M.d(h),h&&b(d),A=!1,De(O)}}}function it(l){var e;l.metaKey||(e=document.querySelector(`[data-key="${l.key}" i]`))==null||e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}const ct=()=>({update:l})=>{l({reset:!1})};function ut(l,e,t){let a,o,n,r;Le(l,$e,_=>t(7,r=_));let{data:s}=e,{form:i}=e,p,m;function g(_){const u=s.guesses[o],f=_.target.getAttribute("data-key");f==="backspace"?(t(0,s.guesses[o]=u.slice(0,-1),s),i!=null&&i.badGuess&&t(1,i.badGuess=!1,i)):u.length<5&&t(0,s.guesses[o]+=f,s)}return l.$$set=_=>{"data"in _&&t(0,s=_.data),"form"in _&&t(1,i=_.form)},l.$$.update=()=>{var _;l.$$.dirty&1&&t(4,a=s.answers.at(-1)==="xxxxx"),l.$$.dirty&17&&t(3,o=a?-1:s.answers.length),l.$$.dirty&13&&(t(2,p={}),t(5,m={}),s.answers.forEach((u,f)=>{const c=s.guesses[f];for(let d=0;d<5;d+=1){const A=c[d];u[d]==="x"?(t(2,p[A]="exact",p),t(5,m[A]="correct",m)):p[A]||(t(2,p[A]=u[d]==="c"?"close":"missing",p),t(5,m[A]=u[d]==="c"?"present":"absent",m))}})),l.$$.dirty&9&&t(6,n=((_=s.guesses[o])==null?void 0:_.length)===5)},[s,i,p,o,a,m,n,r,g]}class pt extends Ge{constructor(e){super(),Ne(this,e,ut,nt,Ce,{data:0,form:1})}}export{pt as default};
